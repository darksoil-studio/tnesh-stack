import{_ as a,c as i,a2 as e,o as t}from"./chunks/framework.BR_eewVT.js";const g=JSON.parse('{"title":"Signals","description":"","frontmatter":{},"headers":[],"relativePath":"guides/signals.md","filePath":"guides/signals.md"}'),n={name:"guides/signals.md"};function l(h,s,p,r,o,k){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="signals" tabindex="-1">Signals <a class="header-anchor" href="#signals" aria-label="Permalink to &quot;Signals&quot;">​</a></h1><p>Signals are the reactivity primitive for state management in the frontend of TNESH apps and modules.</p><p>Learn more about them <a href="https://github.com/proposal-signals/signal-polyfill" target="_blank" rel="noreferrer">here</a>.</p><h2 id="stores" tabindex="-1">Stores <a class="header-anchor" href="#stores" aria-label="Permalink to &quot;Stores&quot;">​</a></h2><p>A store is a typescript class that maintains the shared state for the elements exported by a module. This shared state is crucial in order to have important optimizations, like skipping zome calls because we already have the necessary information, or updating all the elements at once reacting to a signal that came from the zome.</p><p>After exploring different state management alternatives, like <code>graphql</code>, <code>redux</code>, <code>mobx</code> or svelte stores, we settled on signals as the base engine to build the stores.</p><p>Signals are a really simple and framework agnostic state management layer. They expose a simple <code>.get()</code> method that can be plugged into an element to get automatic updates and rerenders when the underlying data changes. You can read more about them <a href="https://svelte.dev/tutorial/writable-stores" target="_blank" rel="noreferrer">here</a>.</p><p>This is a sample of using the <code>ProfilesStore</code> without any UI framework:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { AppClient } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@holochain/client&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ProfilesStore } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@darksoil-studio/profiles-zome&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { toPromise } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@tnesh-stack/signals&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> appClient</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppClient</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProfilesStore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(appClient, config);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> allProfiles</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> toPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(store.allProfiles);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`These are all the profiles that exist in this app: \`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, allProfiles);</span></span></code></pre></div><p>The store constructor usually accepts an <a href="https://www.npmjs.com/package/@holochain/client" target="_blank" rel="noreferrer">AppClient object</a> that allows for usage of the module in both native Holochain and Holo contexts. It can also accept module wide configuration, that will be read by any of the components of the module and may affect their behaviour.</p>`,10)]))}const c=a(n,[["render",l]]);export{g as __pageData,c as default};
